<!DOCTYPE html>

<html xmlns:th="http://www.thymeleaf.org">

<head>
<meta charset="UTF-8" />
<link rel="stylesheet" href="/css/style.css" />
<title>index</title>
</head>

<body>
	<header th:replace="fragments/base.html :: intestazione"></header>
	<div>
		<h4 th:text="#{header.registra}">Modifica Piatto</h4>
		<form method="POST" enctype="multipart/form-data"
			th:action="@{'/admin/modificapiatto/' + ${piatto.id}}">
			<table>
				<tr>
					<td>Nome</td>
					<td><input type="text" placeholder="Nome del piatto" required
						th:field="${piatto.nome}" /></td>
					<td th:if="${#fields.hasErrors('piatto.nome')}"
						th:errors="${piatto.nome}" th:style="'color:red'"></td>
				</tr>
				<tr>
					<td>Descrizione</td>
					<td><input type="text" placeholder="Descrizione del piatto"
						required th:field="${piatto.descrizione}" /></td>
					<td th:if="${#fields.hasErrors('piatto.descrizione')}"
						th:errors="${piatto.descrizione}" th:style="'color:red'"></td>
				</tr>
				<tr>
					<td>Modifica gli ingredienti appartenenti al tuo piatto</td>
					<td>
						<ul>
							<li th:each="ingrediente : ${ingredienti}"><input
								type="checkbox" th:value="${ingrediente.id}"
								th:text="${ingrediente.nome}" th:name="idingredienti" 
								th:checked="${piatto.getIngredienti().contains(ingrediente)}"/></li>
						</ul>
					</td>
				</tr>
				<tr>
					<td>
						<p>Modifica immagine:</p> <input type="file" accept="image/*"
						class="custom-file-input" id="customFile" name="file">
					</td>
				</tr>
				<tr>
					<td>
						<button type="submit">Modifica Piatto</button> 
						<a th:href="@{'/admin/deletepiatto/' + ${piatto.id}}"><button type="button">Elimina Piatto</button></a> 
					
					</td>
				</tr>
			</table>
		</form>
	</div>
	<footer th:replace="fragments/base.html :: fondo(home='/')"></footer>
</body>
</html>